{
  "file_path": "SPECS/SIB/INTENT/TASK_ARCHIVE/170_T1_6_Implement_Binary_Reader_Guards/T1_6_Implement_Binary_Reader_Guards.md",
  "n_spec": 6,
  "n_func": 3,
  "intent_atoms": [
    {
      "type": "user_story",
      "description": "Implement binary reader guards to clamp reads within parent range and record truncation issues for tolerant parsing.",
      "source_line": null
    },
    {
      "type": "acceptance_criteria",
      "description": "Reader never seeks or reads beyond a node\u2019s declared parent range while tolerant parsing is enabled.",
      "source_line": null
    },
    {
      "type": "acceptance_criteria",
      "description": "ParseIssue entries with a truncatedPayload code are emitted whenever payload bytes run short, capturing the offending byte range.",
      "source_line": null
    },
    {
      "type": "acceptance_criteria",
      "description": "Strict mode behavior remains unchanged: reader throws on overflow while tolerant mode records issues and continues traversal.",
      "source_line": null
    },
    {
      "type": "architectural_decision",
      "description": "Update StreamingBoxWalker (and helper readers) to track currentOffset/parentRange.upperBound and clamp skips to parent end when decoder failures occur in tolerant mode.",
      "source_line": null
    },
    {
      "type": "architectural_decision",
      "description": "Emit ParseIssue payloads using existing construction pattern that records severity, byte ranges, and reason codes when a box declares more bytes than remain.",
      "source_line": null
    }
  ],
  "functional_units": [
    {
      "name": "StreamingBoxWalker Parent Range Guard",
      "description": "Ensures the streaming reader never seeks or reads beyond a node\u2019s declared parent range while tolerant parsing is enabled.",
      "source_line": null
    },
    {
      "name": "TruncatedPayload ParseIssue Emission",
      "description": "Records and emits ParseIssue entries with truncatedPayload codes when payload bytes run short, capturing offending byte ranges for downstream consumers.",
      "source_line": null
    },
    {
      "name": "Tolerant Mode Continuation Logic",
      "description": "Allows the parser to continue traversal after recording truncation issues in tolerant mode while maintaining strict mode behavior of throwing on overflow.",
      "source_line": null
    }
  ],
  "metadata": {
    "file_size_bytes": 2541,
    "line_count": 25
  }
}